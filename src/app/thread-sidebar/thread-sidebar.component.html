<mat-toolbar>
    Antworten
</mat-toolbar>
<div class="thread-container">
    <div *ngFor="let message of threadMessages$ | async"
         [ngStyle]="{'text-align': message.senderId === 'user1' ? 'right' : 'left'}"
         class="message-item">
        <p>
            <strong>{{message.senderId}}:</strong>
            <span *ngIf="!message.deleted" [innerHTML]="message.content"></span>
            <span *ngIf="message.deleted">
                    <span style="font-style: italic; color: grey;">
                        (Nachricht gelöscht)
                    </span>
                </span>
            <span *ngIf="message.fileUrl"
                  [matTooltip]="message.fileDeleted ? ('Datei wurde gelöscht\n' + message.fileName) : (message.fileName || '')"
                  matTooltipPosition="above">
                    <a *ngIf="!message.fileDeleted" [href]="message.fileUrl" target="_blank" style="margin-left: 5px; display: inline-flex; align-items: center;">
                        <mat-icon style="margin-right: 3px;">attach_file</mat-icon>
                    </a>
                    <mat-icon *ngIf="message.fileDeleted"
                              style="margin-left: 5px; display: inline-flex; align-items: center;">
                        block
                    </mat-icon>
                    <!-- <span *ngIf="message.fileSize" style="margin-left: 5px; font-size: 0.8em;">({{formatBytes(message.fileSize)}})</span> -->
                </span>
        </p>
        <p class="message-time" [ngStyle]="{'text-align': message.senderId === 'user1' ? 'right' : 'left'}">
            {{formatDate(message.timestamp)}}
        </p>
    </div>
</div>